{% extends "base.html" %}
{% load static %}
{% block content %}
{% if level_number != team_level %}
<div class="banner">
  Your team is on Level {{ team_level }}!
  <a href="{% url 'level' level=team_level %}">Join them</a>
</div>
{% endif %}
<div class="heading">
  <h1>{{ level_name }}</h1>
  <h2>Level {{ level_number }}</h2>
{% if level_number > 1 %}
  <h3>{{ latitude }}, {{ longitude }}</h3>
{% endif %}
</div>
<div class="story">
  {% for para in desc_paras %}<p>{{ para }}</p>{% endfor %}
</div>
<div class="hints">
  {% for hint in hints %}<img class="hint" src="{{ hint }}" alt="Puzzle hint image {{ forloop.counter }}" />{% endfor %}
</div>
{% if not is_last %}
<a class="gobutton" href="{% url 'map' %}?lvl={{ level_number }}">SEARCH MAP</a>
<a class="gobutton" href="{% url 'search' %}?lvl={{ level_number }}">SEARCH COORDINATES</a>
{% if level_number != team_level %}
<a class="gobutton" href="{% url 'level' level=level_number|add:'1' %}">NEXT LEVEL</a>
{% elif allow_hint %}
<a class="gobutton"
   href="{% url 'hint' %}?lvl={{ level_number }}&hint={{ hints|length }}"
   data-confirm="Are you sure you want to request a hint?">REQUEST HINT</a>
{% else %}
<div class="gobutton gobutton--disabled" title="{{ reason }}">REQUEST HINT</div>
<p class="reason">{{ reason }}</p>
{% endif %}
{% endif %}
{% include "room.html" %}
<script>document.body.dataset.levelNumber = "{{ level_number }}";</script>
<script src="{% static "chat.js" %}"></script>
<script src="{% static "confirm.js" %}"></script>
{% endblock content %}
